#INCLUDE <TV_PICKIT2_SHIFT_1.c>
#INCLUDE <TV_PICKIT2_SHIFT_LCD.c>
#INCLUDE <TV_PICKIT2_SHIFT_DS18B20.c> 

VOID MAIN()
{
   SET_UP_PORT_IC_CHOT();
   
   SETUP_LCD();
      
   KHOI_TAO_DS18B20();
   
   DS18A_TAM=0;
   XUAT_4LED_7DOAN_GIAIMA_XOA_SO0(0);
   WHILE(TRUE)
   {
      IF(TOUCH_PRESENT()) { DOC_GIATRI_DS18B20();}

      XUAT_4LED_7DOAN_GIAIMA_XOA_SO0((DS18A>>4)&0xff);
      
      LCD_GOTO_XY(1,1);
      PRINTF(LCD_DATA,"ND = %.2f %3Lu", 
      (float)(((DS18A>>2)&0X0003)*0.25) + (DS18A/16), ((DS18A>>4)&0xff));

      delay_ms(1000);
   }
}
